{"version":3,"file":"static/js/509.499b623b.chunk.js","mappings":"yMAGaA,EAAMC,EAAAA,GAAAA,IAAH,wEACZC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,K,wFCRSC,E,QAAUR,GAAAA,IAAH,qO,SCEdS,EAAaC,SAASC,cAAc,gBAgB1C,EAde,WACb,OAAOC,EAAAA,EAAAA,eACL,SAACJ,EAAD,WACE,SAAC,KAAD,CACEP,MAAM,YACNY,OAAQ,IACRC,MAAO,IACPC,UAAU,wBAGdN,K,oECdSO,E,QAAgBhB,GAAAA,GAAH,oL,kGCoB1B,E,QApBaA,GAAAA,GAAH,8R,SCwBV,EAtByB,SAAC,GAA2B,IAAzBiB,EAAwB,EAAxBA,GAAIC,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,OAC/BC,GAAWC,EAAAA,EAAAA,MACjB,OACE,SAAC,EAAD,WACE,UAAC,KAAD,CAAMC,GAAE,iBAAYL,GAAMM,MAAO,CAAEC,KAAMJ,GAAzC,WACE,SAACrB,EAAA,EAAD,CAAKc,OAAQ,IAAKY,SAAS,SAA3B,SACGN,GACC,gBAAKO,IAAG,yCAAoCP,GAAUQ,IAAKT,KAE3D,gBACEQ,IAAI,kEACJC,IAAKT,OAKX,wBAAKA,W,iLCab,EA9BuB,SAAC,GAAuB,IAArBU,EAAoB,EAApBA,cACxB,GAIIC,EAAAA,EAAAA,MAHFC,EADF,EACEA,SACAC,EAFF,EAEEA,aACAC,EAHF,EAGEA,MAgBF,OACE,0BACE,kBAAMC,SAAUF,GAfC,SAAAG,GACnB,GAAoB,KAAhBA,EAAKC,OAAT,CAIA,IAAMC,GAAc,kBACfF,GADe,IAElBC,OAAQD,EAAKC,OAAOE,gBAEtBT,EAAcQ,GACdJ,SAREM,EAAAA,GAAAA,KAAW,mIAA2B,CAACC,SAAS,aAAcC,WAAYC,EAAAA,QAa1E,WACE,4BAAWX,EAAS,aACpB,mBAAQY,KAAK,SAAb,0B,6BCgCR,EAnDkB,WAAO,IAAD,EACtB,GAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KAEA,GAAiDC,EAAAA,EAAAA,MAAjD,eAAOC,EAAP,KAAyBC,EAAzB,KACMC,EAAW,UAAGF,EAAiBG,IAAI,iBAAxB,QAAqC,IAEtDC,EAAAA,EAAAA,YAAU,WAAM,wCAKd,oGAEIN,GAAa,GAFjB,SAGyBO,EAAAA,EAAAA,iBAAqBH,GAH9C,OAGUI,EAHV,OAIIV,EAAeU,GAJnB,yEAOIR,GAAa,GAPjB,6EALc,sBACM,KAAhBI,GADU,mCAedK,KACC,CAACL,IAMJ,OACE,4BACE,SAAC,EAAD,CAAgBvB,cANH,SAAAO,GACfe,EAAqBf,MAMlBW,IAAa,SAACW,EAAA,EAAD,IACbb,EAAYc,OAAS,IACpB,SAAC,IAAD,UACGd,EAAYe,KAAI,YAA0C,IAAvC1C,EAAsC,EAAtCA,GAAI2C,EAAkC,EAAlCA,eAAgBC,EAAkB,EAAlBA,YACtC,OACE,SAACC,EAAA,EAAD,CAEE5C,MAAO0C,EACP3C,GAAIA,EACJE,OAAQ0C,GAHH5C,YCpCrB,EARe,WACb,OACE,2BACE,SAAC,EAAD,Q,qDCLW8C,EAAUC,EAAQ,MAA3BC,QAEFC,EAAW,+BACXC,EAAU,2CAEVb,EAAM,CACJc,oBADI,WACmB,OAAD,qHACHL,EAAM,GAAD,OAAIG,EAAJ,+BAAmCC,IADrC,cACpBE,EADoB,yBAEnBA,EAASnC,KAAKoC,SAFK,8CAKtBC,eANI,SAMWC,GAAU,OAAD,qHACLT,EAAM,GAAD,OAAIG,EAAJ,kBAAsBM,EAAtB,YAAiCL,IADjC,cACtBE,EADsB,yBAErBA,EAASnC,MAFY,8CAKxBuC,iBAXI,SAWaC,GAAa,OAAD,qHACVX,EAAM,GAAD,OACvBG,EADuB,+BACQQ,EADR,YACsBP,EADtB,YADK,cAC3BE,EAD2B,yBAI1BA,EAASnC,KAAKoC,SAJY,8CAO7BK,iBAlBI,SAkBaH,GAAU,OAAD,qHACPT,EAAM,GAAD,OACvBG,EADuB,kBACLM,EADK,oBACcL,IAFZ,cACxBE,EADwB,yBAIvBA,EAASnC,KAAK0C,MAJS,8CAO1BC,kBAzBI,SAyBcL,GAAU,OAAD,qHACRT,EAAM,GAAD,OACvBG,EADuB,kBACLM,EADK,oBACcL,EADd,2BADG,cACzBE,EADyB,yBAIxBA,EAASnC,KAAKoC,SAJU,+CAQnC","sources":["components/Box.jsx","components/Overlay/Overlay.jsx","components/Loader/Loader.jsx","components/MovieGallery/MovieGallery.styled.js","components/MovieGalleryItem.jsx/MovieGalleryItem.styled.js","components/MovieGalleryItem.jsx/MovieGalleryItem.jsx","components/SearchMovieBox/SearchMovieBox.jsx","components/MovieList/MovieList.jsx","pages/Movies.jsx","service/API.tmDB.js"],"sourcesContent":["import styled from 'styled-components';\nimport { color, space, border, flexbox, grid, layout, typography } from 'styled-system';\n\nexport const Box = styled.div`\n  ${color}\n  ${border}\n  ${space}\n  ${grid}\n  ${layout}\n  ${flexbox}\n  ${typography}\n`;\n","import styled from 'styled-components';\n\nexport const Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 20;\n`;\n\n","import { createPortal } from 'react-dom';\nimport { Circles } from 'react-loader-spinner';\nimport { Overlay } from 'components/Overlay/Overlay';\n\nconst loaderRoot = document.querySelector('#loader-root');\n\nconst Loader = () => {\n  return createPortal(\n    <Overlay>\n      <Circles\n        color=\"orangered\"\n        height={300}\n        width={300}\n        ariaLabel=\"loading-indicator\"\n      />\n    </Overlay>,\n    loaderRoot\n  );\n};\n\nexport default Loader;\n","import styled from 'styled-components';\n\nexport const StyledGallery = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin: 0 auto;\n`;\n\n\n","import styled from 'styled-components';\n\nconst Item = styled.li`\n  border: 1px solid black;\n  overflow: hidden;\n  border-radius: 4px;\n\n  h3{\n    margin-left: 20px;\n  }\n\n  img {\n    width: 100%;\n    object-fit: cover;\n    transition: transform 300ms linear;\n  }\n\n  &:hover img {\n    transform: scale(1.03);\n  }\n`;\n\nexport default Item;\n","import { Box } from 'components/Box';\nimport { Link, useLocation } from 'react-router-dom';\nimport Item from './MovieGalleryItem.styled';\n\nconst MovieGalleryItem = ({ id, title, poster }) => {\n  const location = useLocation();\n  return (\n    <Item>\n      <Link to={`/movie/${id}`} state={{ from: location }}>\n        <Box height={550} overflow=\"hidden\">\n          {poster ? (\n            <img src={`https://image.tmdb.org/t/p/w500${poster}`} alt={title} />\n          ) : (\n            <img\n              src=\"https://image.tmdb.org/t/p/w500/eBj90pocOdfR4IQge0XvaGBPnUF.jpg\"\n              alt={title}\n            />\n          )}\n        </Box>\n\n        <h3>{title}</h3>\n      </Link>\n    </Item>\n  );\n};\n\nexport default MovieGalleryItem;\n","import { useForm } from 'react-hook-form';\nimport { toast, Zoom } from 'react-toastify';\n\nconst SearchMovieBox = ({ onSearhSubmit }) => {\n  const {\n    register,\n    handleSubmit,\n    reset,\n  } = useForm();\n\n  const onSubmitForm = data => {\n    if (data.search === '') {\n      toast.warn('Введите название фильма', {position:\"top-center\", transition: Zoom});\n      return;\n    }\n    const normalizedData = {\n      ...data,\n      search: data.search.toLowerCase()\n    }\n    onSearhSubmit(normalizedData);\n    reset();\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit(onSubmitForm)}>\n        <input {...register('search')} />\n        <button type=\"submit\">Search</button>\n      </form>\n    </div>\n  );\n};\n\nexport default SearchMovieBox;\n","import Loader from 'components/Loader/Loader';\nimport { StyledGallery } from 'components/MovieGallery/MovieGallery.styled';\nimport MovieGalleryItem from 'components/MovieGalleryItem.jsx/MovieGalleryItem';\nimport SearchMovieBox from 'components/SearchMovieBox/SearchMovieBox';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport API from 'service/API.tmDB';\n\nconst MovieList = () => {\n  const [foundMovies, setFoundMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [searhMovieParams, setSearchMovieParams] = useSearchParams();\n  const searchMovie = searhMovieParams.get('search') ?? '';\n\n  useEffect(() => {\n    if (searchMovie === '') {\n      return;\n    }\n\n    async function getSearchMovies() {\n      try {\n        setIsLoading(true);\n        const movies = await API.fetchSearchMovie(searchMovie);\n        setFoundMovies(movies);\n      } catch (error) {\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    getSearchMovies();\n  }, [searchMovie]);\n\n  const onSubmit = search => {\n    setSearchMovieParams(search);\n  };\n\n  return (\n    <div>\n      <SearchMovieBox onSearhSubmit={onSubmit} />\n      {isLoading && <Loader />}\n      {foundMovies.length > 0 && (\n        <StyledGallery>\n          {foundMovies.map(({ id, original_title, poster_path }) => {\n            return (\n              <MovieGalleryItem\n                key={id}\n                title={original_title}\n                id={id}\n                poster={poster_path}\n              />\n            );\n          })}\n        </StyledGallery>\n      )}\n    </div>\n  );\n};\n\nexport default MovieList;\n","import MovieList from 'components/MovieList/MovieList';\n\nconst Movies = () => {\n  return (\n    <main>\n      <MovieList />\n    </main>\n  );\n};\n\nexport default Movies;\n","const { default: axios } = require('axios');\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'api_key=d8b0ad5d4fb786d62f1125fa68e28b99';\n\nconst API = {\n  async fetchTrendingMovies() {\n    const response = await axios(`${BASE_URL}/trending/movie/day?${API_KEY}`);\n    return response.data.results;\n  },\n\n  async fetchMovieById(movieId) {\n    const response = await axios(`${BASE_URL}/movie/${movieId}?${API_KEY}`);\n    return response.data;\n  },\n\n  async fetchSearchMovie(searhMovie) {\n    const response = await axios(\n      `${BASE_URL}/search/movie?query=${searhMovie}&${API_KEY}&page=1`\n    );\n    return response.data.results;\n  },\n\n  async fetchCastCredits(movieId) {\n    const response = await axios(\n      `${BASE_URL}/movie/${movieId}/credits?${API_KEY}`\n    );\n    return response.data.cast;\n  },\n\n  async fetchMovieReviwes(movieId) {\n    const response = await axios(\n      `${BASE_URL}/movie/${movieId}/reviews?${API_KEY}&language=en-US&page=1`\n    );\n    return response.data.results;\n  },\n};\n\nexport default API;\n"],"names":["Box","styled","color","border","space","grid","layout","flexbox","typography","Overlay","loaderRoot","document","querySelector","createPortal","height","width","ariaLabel","StyledGallery","id","title","poster","location","useLocation","to","state","from","overflow","src","alt","onSearhSubmit","useForm","register","handleSubmit","reset","onSubmit","data","search","normalizedData","toLowerCase","toast","position","transition","Zoom","type","useState","foundMovies","setFoundMovies","isLoading","setIsLoading","useSearchParams","searhMovieParams","setSearchMovieParams","searchMovie","get","useEffect","API","movies","getSearchMovies","Loader","length","map","original_title","poster_path","MovieGalleryItem","axios","require","default","BASE_URL","API_KEY","fetchTrendingMovies","response","results","fetchMovieById","movieId","fetchSearchMovie","searhMovie","fetchCastCredits","cast","fetchMovieReviwes"],"sourceRoot":""}